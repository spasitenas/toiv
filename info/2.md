Контроллер **Wiren Board 6** поддерживает интерфейс **1-Wire**, который используется для подключения датчиков температуры и других устройств. В контроллере предусмотрены два порта 1-Wire.

### Особенности интерфейса 1-Wire в Wiren Board 6

1. **Количество портов**:
   - Два порта 1-Wire с гальванической развязкой:
     - **Port A** (A4 разъем)
     - **Port B** (A3 разъем)

2. **Применение**:
   - Наиболее часто используемые устройства — это датчики температуры серии DS18B20.
   - Поддерживаются и другие устройства, совместимые с протоколом 1-Wire:
     - Датчики влажности.
     - Датчики освещенности.
     - Счетчики.

3. **Максимальная длина линии**:
   - В зависимости от качества кабеля и топологии сети, длина линии может достигать нескольких десятков метров.

4. **Подключение к портам**:
   - **Port A**:
     - GND (Земля)
     - 5V (Питание 5 В)
     - DATA (Линия данных)
   - **Port B**:
     - GND (Земля)
     - 5V (Питание 5 В)
     - DATA (Линия данных)

### Примеры использования

1. **Датчики температуры DS18B20**:
   - Семейство датчиков DS18B20 широко используется в системах автоматизации.
   - Датчики могут быть подключены параллельно на одну линию (шинная топология).

2. **Подключение датчиков к Wiren Board 6**:

**Подключение одного датчика**:

- **Трехпроводная схема**:
  - GND на GND.
  - VDD на 5V.
  - DQ на DATA + подтягивающий резистор (4.7 кОм) к 5V.
  
- **Двухпроводная схема (паразитное питание)**:
  - GND на GND.
  - DQ на DATA + подтягивающий резистор (4.7 кОм) к 5V.

**Подключение нескольких датчиков**:

- Все датчики подключаются параллельно к линии данных 1-Wire.

### Пример конфигурации датчиков

1. **Настройка через веб-интерфейс**:
   - Перейдите в раздел **Config → 1-Wire**.
   - Выберите порт 1-Wire (A или B) и включите его.
   - Добавьте обнаруженные датчики вручную или включите автоматическое обнаружение.

2. **Настройка через файл конфигурации**:
   - Файл конфигурации датчиков 1-Wire находится в `/etc/wb-mqtt-1wire.conf`.

Пример конфигурации датчиков:

```json
{
    "debug": false,
    "owfs": {
        "port": "/mnt/1wire",
        "enabled": true
    },
    "devices": [
        {
            "id": "28-0000061d9ac8",
            "name": "Temperature Sensor 1",
            "bus": "A",
            "interval": 5
        },
        {
            "id": "28-0000061d9ad9",
            "name": "Temperature Sensor 2",
            "bus": "B",
            "interval": 5
        }
    ]
}
```

### Поддерживаемые устройства

- **Датчики температуры**:
  - DS18B20
  - DS18S20
  - DS1822
  
- **Датчики влажности**:
  - DS2438 (с дополнительным сенсором)

- **Счетчики**:
  - DS2423

- **ID метки**:
  - DS1990A
  
### Преимущества использования 1-Wire

- **Простота подключения**.
- **Гибкость в размещении датчиков** за счет длинной линии.
- **Экономичность**: один контроллер может обслуживать множество датчиков.

Таким образом, интерфейс 1-Wire в контроллере Wiren Board 6 позволяет легко подключить датчики температуры и другие устройства, что делает его идеальным для систем "умного дома" и промышленной автоматизации.
