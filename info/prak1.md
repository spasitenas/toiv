![image](https://github.com/user-attachments/assets/554fadea-4203-4302-b481-b3a527a21893)

![image](https://github.com/user-attachments/assets/e3675ce5-8f91-4556-8ce1-3322d9880e19)

### Основные элементы стенда WBdemo-kit v.2:
1. **Датчики температуры 1-wire DS18B20** (поз. 1 и 2) – используются для измерения температуры.
2. **Преобразователь 1-Wire — Modbus RTU WB-M1W2** (поз. 3) – устройство для подключения датчиков температуры по интерфейсу 1-Wire к сети Modbus RTU.
3. **Устройство ИК-управления WB-MIR** (поз. 4) – инфракрасный контроллер для управления ИК-совместимыми устройствами.
4. **Настенный комбинированный датчик WB-MSW v.3** (поз. 5) – датчик, измеряющий температуру, влажность, уровень освещения, концентрацию CO2 и движение.
5. **RGB лента в профиле** (поз. 6) – светодиодная лента для демонстрации управления освещением.
6. **Блок питания HDR-30-24** (поз. 7) – источник питания на 24 В для устройств стенда.
7. **Контроллер Wiren Board** (поз. 8) – центральный элемент системы автоматизации, который управляет подключёнными устройствами и датчиками.
8. **Модуль ввода-вывода WBIO-DO-R10A-8** (поз. 9) – модуль с релейными выходами для управления нагрузками.
9. **Модуль обнаружения протечек WB-MWAC** (поз. 10) – устройство для обнаружения утечек воды.
10. **Диммер светодиодных лент на DIN-рейку WB-MRGBW-D** (поз. 11) – диммер для управления яркостью и цветом светодиодных RGBW лент.
11. **Комбинированный датчик WB-MS** (поз. 12) – многофункциональный датчик, измеряющий температуру, влажность, освещённость и движение.
12. **Электросчётчик "Милур 307"** (поз. 13) – счётчик электроэнергии.
13. **Автомат питания набора (L1)** (поз. 14), **Автомат питания вентилятора (L2)** (поз. 15), **Автомат питания контактора (L3)** (поз. 16) – автоматические выключатели для подачи и защиты питания различных элементов стенда.
14. **Трансформаторы тока 25 А** (поз. 17-19) – датчики для измерения силы тока.
15. **Контактор 220 В** (поз. 20) – устройство для коммутации высоковольтных цепей.
16. **Модуль реле 3-канальный WB-MR3** (поз. 21) – модуль для управления нагрузками через реле.
17. **Многоканальный измеритель WB-MAP12H** (поз. 22) – устройство для измерения параметров электросети.
18. **Датчик протечки** (поз. 23) – устройство для обнаружения утечек воды.
19. **Индикаторы** (поз. 24-26) – сигнальные индикаторы для отображения состояния различных систем.
20. **Кнопки управления** (поз. 27-29) – кнопки для ручного управления различными функциями, такими как подача воды и сброс аварии.
21. **Импульсный счётчик расхода воды** (поз. 30) – устройство для измерения расхода воды.
22. **Шаровой кран с электроприводом** (поз. 31) – клапан для управления подачей воды.
23. **Вентилятор** (поз. 32) – устройство для демонстрации управления вентиляцией.

### Глобальные и локальные контроллеры:

- **Глобальные контроллеры** – это центральные устройства, которые управляют всей системой автоматизации или несколькими локальными системами. Они обрабатывают данные от датчиков и устройств, принимают решения и отправляют команды на исполнительные устройства. Примером глобального контроллера является **контроллер Wiren Board** (поз. 8), который координирует работу всех элементов стенда.

- **Локальные контроллеры** – это устройства, которые управляют отдельными подсистемами или отдельными устройствами. Например, локальные контроллеры могут управлять освещением, климатом или другими мелкими

### Примеры глобальных и локальных контроллеров на базе **Wiren Board**:

#### 1. **Глобальные контроллеры Wiren Board**:

Глобальные контроллеры отвечают за управление всей системой автоматизации, координацию работы между локальными контроллерами и сбор данных. Они могут управлять большой инфраструктурой, обрабатывая информацию с разных датчиков и подключённых устройств.

##### Примеры:
- **Контроллер Wiren Board 6** (поз. 8 в таблице):
  - Это универсальный контроллер, который используется для управления процессами в умном доме, на производстве или в других системах автоматизации. Он поддерживает множество интерфейсов (Modbus, 1-Wire, MQTT и другие), что позволяет ему взаимодействовать с различными устройствами и системами.
  - В роли глобального контроллера он может координировать работу локальных контроллеров, собирать данные от датчиков, управлять освещением, климатическими системами, безопасностью и т.д.
  
- **Wiren Board 7**:
  - Новая версия контроллера, используется как центральный элемент системы автоматизации. Он может управлять процессами в умном доме, автоматизации зданий, промышленности и других системах, требующих централизованного контроля.
  - Работает с разными протоколами (Modbus, MQTT, Zigbee и т.д.), что позволяет интегрировать различные устройства в систему.

#### 2. **Локальные контроллеры Wiren Board**:

Локальные контроллеры управляют отдельными подсистемами или устройствами и обычно работают на определённой ограниченной области или функциональности (например, управление освещением, климатом или безопасностью). Эти устройства могут работать автономно или под управлением глобального контроллера.

##### Примеры:
- **Модуль реле WB-MR3** (поз. 21 в таблице):
  - Это локальный контроллер, который используется для управления электрическими нагрузками (освещение, электроприводы и т.д.). Он поддерживает интерфейс Modbus RTU и может работать с глобальным контроллером, но также способен выполнять задачи самостоятельно.
  - В системе автоматизации может отвечать за управление освещением или бытовыми приборами в определённой зоне.

- **Модуль ввода-вывода WBIO-DO-R10A-8** (поз. 9 в таблице):
  - Этот модуль может быть использован как локальный контроллер для управления релейными выходами. Он позволяет подключать и управлять различными устройствами и механизмами, такими как электроприборы или двигатели.
  
- **Модуль обнаружения протечек WB-MWAC** (поз. 10 в таблице):
  - Работает как локальный контроллер для мониторинга утечек воды. В случае обнаружения утечки может сразу же отправить сигнал на глобальный контроллер или автономно перекрыть водоснабжение через шаровой кран с электроприводом.
  
- **Устройство ИК-управления WB-MIR** (поз. 4 в таблице):
  - Локальный контроллер для управления устройствами через инфракрасные команды (например, телевизоры, кондиционеры и другие ИК-совместимые устройства). Он может работать независимо или под управлением глобального контроллера Wiren Board.

#### Итого:
- **Глобальные контроллеры** (например, Wiren Board 6 или 7) координируют работу всей системы автоматизации, собирают данные и управляют подключёнными устройствами.
- **Локальные контроллеры** (например, WB-MR3, WB-MWAC) управляют конкретными функциями и устройствами в рамках системы, обеспечивая автономное или интегрированное управление в зависимости от настроек.

Контроллеры WirenBoard — это мощные и гибкие устройства, которые используются для автоматизации, мониторинга и управления в различных системах "умного дома", промышленной автоматизации и IoT-солюциях. Они обеспечивают централизованное управление разнообразными устройствами и датчиками. Вот основные принципы работы контроллеров в системе WirenBoard:

### Основные Компоненты и Принципы Работы

1. **Аппаратная Платформа:**
   - **Процессор и ОС:** Контроллеры WirenBoard основаны на ARM-процессорах и работают под управлением Linux (Debian), что делает их похожими на маленькие компьютеры с широкими возможностями программирования.
   - **Модульность:** Контроллеры могут быть расширены с помощью различных модулей ввода/вывода (WBIO), которые подключаются через специальные интерфейсы.

2. **Интерфейсы Связи:**
   - **Wired Connections:** Ethernet, RS-485, RS-232, 1-Wire, I2C, и Modbus для подключения различных датчиков и устройств.
   - **Wireless Connections:** Wi-Fi, ZigBee (через дополнительные модули), Bluetooth и другие технологии для беспроводного подключения.
   - **MQTT Protocol:** Использование MQTT для обмена сообщениями между устройствами и серверами, что позволяет легко интегрировать контроллер в различные системы IoT.

3. **Программирование и Конфигурация:**
   - **Rule Engine:** Встроенный движок правил позволяет создавать скрипты на языке, основанном на JavaScript, для автоматизации реакций на события в системе.
   - **Пользовательские Скрипты:** Поддержка Python, Bash и других языков позволяет писать сложные скрипты для управления логикой работы контроллера.

4. **Управление Устройствами:**
   - **Датчики и Актуаторы:** Контроллер может собирать данные с температурных датчиков, датчиков влажности, детекторов движения и других, а также управлять освещением, отоплением, системами вентиляции и другими актуаторами.
   - **Modbus Devices:** Широкая поддержка устройств Modbus RTU/TCP позволяет интегрировать в систему промышленное оборудование.

5. **Веб-Интерфейс и API:**
   - **Web Interface:** Пользовательский интерфейс на базе веб-технологий для настройки, мониторинга и управления контроллером через браузер.
   - **REST API:** Возможность удалённого управления и интеграции с другими системами через RESTful API.

6. **Безопасность:**
   - **Сетевая безопасность:** Возможности настройки firewall, VPN и других технологий для защиты данных и управления доступом.
   - **Обновления и Резервное Копирование:** Регулярные обновления ПО для устранения уязвимостей и функции резервного копирования для восстановления системы.

### Пример Работы Контроллера

Допустим, вам нужно автоматизировать систему умного освещения на базе WirenBoard:

1. **Подключение Устройств:**
   - Подключите светильники к реле-модулям WirenBoard.
   - Добавьте датчики движения через интерфейс 1-Wire или Modbus, в зависимости от модели.

2. **Настройка Логики:**
   - Используя Web UI, перейдите к разделу "Rules" или напишите скрипт на Python.
   - Создайте правило, которое включает свет, если датчик движения активирован и если текущее время находится в заданном диапазоне (например, с 18:00 до 23:00).

3. **Интеграция и Управление:**
   - Если система должна быть интегрирована с внешними сервисами, настройте MQTT-брокера или REST API для отправки команд и получения статусов.
   - Мониторьте состояние системы через Web UI или через внешние системы умного дома.

Эта модель работы показывает, как контроллеры WirenBoard могут быть центром автоматизации, собирая данные от датчиков, принимая решения на основе пользовательских скриптов и управляя физическими устройствами для создания интеллектуальных и эффективных систем.

Датчик температуры DS18B20 является популярным и широко используемым датчиком для измерения температуры в электронных проектах, в том числе в системах на базе WirenBoard. Он использует интерфейс 1-Wire, который позволяет подключать множество таких датчиков к одному микроконтроллеру по одному проводу для передачи данных (плюс провода питания и земли).

### Физическое Устройство и Принцип Работы DS18B20

1. **Конструкция и Основные Характеристики:**
   - **Корпус:** DS18B20 обычно поставляется в трёхвыводном корпусе TO-92, но также может быть в водонепроницаемом исполнении с кабелем и зондом.
   - **Питание:** Работает от 3.0 В до 5.5 В, что делает его совместимым с большинством логических уровней микроконтроллеров.
   - **Температурный диапазон:** От -55°C до +125°C с точностью ±0.5°C в диапазоне от -10°C до +85°C.

2. **Интерфейс 1-Wire:**
   - **Однопроводный Интерфейс:** Позволяет датчику передавать данные по одному проводу (DQ), кроме проводов для питания (VDD) и земли (GND).
   - **Адресация:** Каждый DS18B20 имеет уникальный 64-битный серийный код, позволяющий работать с множеством датчиков на одной шине 1-Wire.
   - **Коммуникация:** Чтобы общаться с микроконтроллером, датчик использует специфические временные интервалы для передачи и приёма битов (присутствие импульса).

3. **Принцип Работы:**
   - **Инициализация:** Микроконтроллер инициирует сессию, отправляя "сброс" и получая "присутствие" от датчика, что является подтверждением его готовности к работе.
   - **Команды:** Микроконтроллер отправляет команды для чтения температуры, записи настроек или чтения серийного номера.
   - **Измерение Температуры:** По команде `CONVERT_T`, DS18B20 проводит измерение температуры и сохраняет результат в своём внутреннем регистре.
   - **Передача Данных:** По команде `READ_SCRATCHPAD`, датчик передаёт содержимое своих регистров (включая температуру) обратно в микроконтроллер.

4. **Преобразование Данных:**
   - **Формат Данных:** Температура измеряется в 12-битном формате с дополнительным кодом и передаётся в двух байтах: младший и старший.
   - **Вычисление Температуры:**
     - Прочитайте два байта данных из датчика.
     - Сформируйте 16-битное значение: \( \text{TEMP} = \text{MSB} \times 256 + \text{LSB} \).
     - Если измеряемая температура положительная, то \( T = \frac{\text{TEMP} \times 0.0625}{16} \).
     - Если температура отрицательная, то используйте дополнительный код для получения температуры: \( T = \left( \text{TEMP} - 65536 \right) \times 0.0625 \).

5. **Паразитное Питание:**
   - DS18B20 может работать в режиме "паразитного питания", когда питание осуществляется через данные и землю, без использования отдельного провода VDD.

### Пример Подключения DS18B20 к WirenBoard

Для подключения DS18B20 к контроллеру WirenBoard:

1. **Подключите VDD к +3.3V или +5V** (в зависимости от вашей конфигурации).
2. **Подключите GND к земле.**
3. **Подключите DQ к одному из GPIO портов, поддерживающих 1-Wire интерфейс.** На контроллере WirenBoard это может быть порт с поддержкой 1-Wire, обозначенный как `1W`.
4. **Установите резистор 4.7кОм между VDD и DQ** для подтяжки данных к питанию (это необходимо для надёжной работы шины 1-Wire).

После физического подключения датчика, вы можете использовать стандартные библиотеки и инструменты WirenBoard для работы с 1-Wire устройствами, чтобы считывать температуру и использовать данные в своих проектах автоматизации.

Преобразователь 1-Wire — Modbus RTU WB-M1W2 от компании WirenBoard — это устройство, которое служит мостом между датчиками, работающими по протоколу 1-Wire, и системами, использующими Modbus RTU для связи. Это позволяет интегрировать датчики температуры (например, DS18B20), а также другие устройства 1-Wire в стандартные промышленные системы на базе Modbus.

### Физическая Работа и Принципы Преобразователя WB-M1W2

#### Основные Характеристики и Функции

1. **Интерфейсы и Подключение:**
   - **1-Wire Interface:** Позволяет подключать до 16 датчиков DS18B20 (или другие устройства 1-Wire) к одному преобразователю.
   - **Modbus RTU Interface:** RS-485 порт для связи с контроллерами и системами, использующими Modbus RTU.

2. **Питание:**
   - Преобразователь WB-M1W2 работает от 9 до 28 В постоянного тока, что делает его подходящим для использования в широком ранге промышленных приложений.

3. **Конструкция:**
   - Устройство выполнено в компактном корпусе, который можно легко монтировать на DIN-рейку в электротехнических шкафах.

#### Принцип Работы

1. **Преобразование Сигналов:**
   - **Считывание Данных с 1-Wire:** WB-M1W2 регулярно опрашивает подключенные датчики 1-Wire, считывая с них данные. Для датчиков температуры DS18B20 это будет текущая температура.
   - **Формирование Данных для Modbus:** Преобразователь конвертирует считанные значения в формат, который может быть передан по шине Modbus RTU. Каждый датчик DS18B20 представлен в виде отдельного регистра в пространстве Modbus устройства.

2. **Протокольное Взаимодействие:**
   - **Modbus RTU:** Устройство функционирует как Modbus-слейв. Контроллер или компьютер (Modbus-мастер) может опрашивать WB-M1W2, используя стандартные функции протокола Modbus RTU, в частности, функцию чтения holding registers.

3. **Обработка и Ответы:**
   - Когда мастер-устройство посылает запрос на чтение к WB-M1W2, преобразователь отвечает, отправляя данные из своих регистров, которые соответствуют текущим значениям температуры от каждого подключенного датчика DS18B20.

4. **Адресация и Конфигурация:**
   - Каждый датчик на шине 1-Wire имеет уникальный серийный номер, но в контексте Modbus данные представляются в виде последовательных регистров.
   - Устройство WB-M1W2 имеет собственный Modbus-адрес, который можно настроить для интеграции в различные системы.

5. **Паразитное Питание:**
   - WB-M1W2 поддерживает паразитное питание для подключенных датчиков 1-Wire, что уменьшает количество необходимых проводов.

### Пример Подключения и Использования WB-M1W2

Для интеграции датчиков температуры DS18B20 в систему управления на базе Modbus RTU с использованием WB-M1W2:

1. **Подключение Датчиков к WB-M1W2:**
   - Подсоедините датчики DS18B20 к клеммам 1-Wire на WB-M1W2.
   - Если используете несколько датчиков, соедините их по шине 1-Wire, обеспечив правильное подключение (DQ, VDD, GND).

2. **Подключение WB-M1W2 к Modbus RTU:**
   - Подключите клеммы RS-485 (A и B) WB-M1W2 к шине Modbus RTU вашей системы.

3. **Конфигурация и Адресация:**
   - Задайте адрес WB-M1W2 и другие параметры Modbus, используя DIP-переключатели или через программное обеспечение, если предусмотрено конструкцией.

4. **Опрос WB-M1W2:**
   - С Modbus-мастера отправляйте запросы чтения holding registers, начиная с адреса, который соответствует первому датчику DS18B20.
   - Преобразователь будет отвечать значениями температуры, преобразованными к формату Modbus (обычно в десятых долях градуса Цельсия).

5. **Обработка Данных:**
   - На стороне системы управления (мастер) обработайте полученные данные, преобразовав их, если нужно, и используйте для дальнейшей логики управления или мониторинга.

Таким образом, WB-M1W2 обеспечивает надёжный и эффективный способ интеграции простых датчиков, таких как DS18B20, в промышленные системы на базе Modbus RTU, расширяя возможности мониторинга и управления без необходимости сложной переписки или изменения основной инфраструктуры системы.

Протокол 1-Wire разработан компанией Dallas Semiconductor (теперь часть Maxim Integrated) и представляет собой систему связи, которая позволяет подключать множество устройств, таких как датчики температуры, серийные EEPROM, часы реального времени и другие компоненты, к микроконтроллеру по одному проводу для передачи данных. Этот провод, в дополнение к земле, является единственным необходимым для обмена данными, хотя некоторые устройства могут также использовать отдельный провод для питания.

### Основные Характеристики Протокола 1-Wire

1. **Однопроводная Шина:**
   - **Минимальное Количество Проводов:** Для работы требуется только один провод (data line), если используется паразитное питание, и два провода (data + ground), если не используется паразитное питание.
   - **Паразитное Питание:** Многие устройства могут получать питание непосредственно от данных линии во время операций чтения и записи, что уменьшает количество проводов до минимума.

2. **Коммуникация и Сетевая Топология:**
   - **Несколько Устройств на Одной Линии:** На одной шине 1-Wire может быть подключено множество устройств, каждое из которых обладает уникальным 64-битным ROM-кодом, который используется для адресации.
   - **Мастер-Слейв:** Шина управляется одним мастером (обычно микроконтроллер), который инициирует все операции с устройствами-слейвами.

3. **Уникальный Идентификатор:**
   - Каждое устройство на шине имеет уникальный 64-битный серийный номер, который включает в себя 8-битный код семейства (тип устройства), 48-битный серийный номер и 8-битную контрольную сумму.

4. **Скорость Обмена и Дальность:**
   - **Скорость:** Обычные скорости передачи данных — от 15.4 кбит/с до 125 кбит/с.
   - **Дальность:** Максимальная длина шины может достигать 100 метров, но это зависит от скорости передачи данных и качества проводника.

### Принципы Работы и Операции Протокола 1-Wire

#### 1. Инициализация Сессии (Reset и Presence Pulse)

1. **Reset Pulse:**
   - Мастер инициирует сессию, отправляя на линию импульс сброса (Reset Pulse) — низкий уровень напряжения на линии в течение минимум 480 микросекунд.

2. **Presence Pulse:**
   - Устройства на линии отвечают на Reset Pulse путём отправки "присутствия" (Presence Pulse) — короткого замыкания линии на низкий уровень на 60-240 микросекунд.

#### 2. Команды и Обмен Данными

1. **Отправка Команд:**
   - **Write 1 Time Slot:** Для записи '1' мастер генерирует очень короткий импульс низкого уровня (1-15 мкс), а затем высокий уровень на оставшуюся часть временного слота (до 60 мкс).
   - **Write 0 Time Slot:** Для записи '0' мастер генерирует более длинный импульс низкого уровня (60 мкс).

2. **Чтение Данных:**
   - Мастер инициирует чтение, выставляя низкий уровень на короткое время (1-15 мкс), затем переводит линию в режим ввода и считывает уровень сигнала.

#### 3. ROM-Команды

1. **Поиск ROM (`0xF0`):** Используется для определения всех устройств на шине.
2. **Чтение ROM (`0x33`):** Читает 64-битный уникальный код одного подключенного устройства.
3. **Совпадение ROM (`0x55`):** Используется для выбора устройства с определённым ROM-кодом для последующей коммуникации.
4. **Пропуск ROM (`0xCC`):** Для отправки команд всем устройствам на шине без адресации (если подключено одно устройство).

#### 4. Пример Работы с Датчиком DS18B20

1. **Инициализация:**
   - Мастер отправляет Reset Pulse.
   - DS18B20 отвечает Presence Pulse.

2. **Чтение Температуры:**
   - Мастер отправляет команду `Skip ROM` (если один датчик) или `Match ROM` (если множество датчиков).
   - Затем мастер отправляет команду `Convert T` (`0x44`), чтобы датчик начал измерение.
   - Мастер ждёт завершения преобразования (DS18B20 выставляет линию в высокий уровень).
   - Мастер отправляет команду `Read Scratchpad` (`0xBE`) для чтения результата измерения.

### Выводы

Протокол 1-Wire — это удобный и эффективный способ подключения маломощных устройств к микроконтроллерам с минимальным количеством проводов. Он идеально подходит для ситуаций, где необходимо собирать данные с большого количества датчиков без сложной проводки.

## Что такое Modbus RTU?

**Modbus RTU** (Remote Terminal Unit) — это один из протоколов серии Modbus, используемый в промышленных системах автоматизации для обмена данными между электронными устройствами. Он является простым, надёжным и широко распространённым протоколом для связи с контроллерами, датчиками, актуаторами и другими устройствами в системах автоматизации и SCADA.

Modbus RTU работает на основе последовательной связи и обеспечивает обмен данными по одной паре проводов (двухпроводной шине RS-485 или RS-232), используя бинарное представление данных.

## Основные Характеристики Modbus RTU

1. **Серийная Коммуникация:** Использует последовательные линии RS-232 или RS-485 для физической передачи данных.
2. **Бинарный Формат:** Данные и команды передаются в бинарном формате, что делает протокол более компактным и быстрым по сравнению с ASCII-версией Modbus.
3. **Мастер-Слейв Архитектура:** Modbus RTU использует мастер-слейв структуру, где один мастер (обычно контроллер) управляет обменом данными с множеством слейвов (устройства).
4. **Адресация:** Поддерживает адресацию до 247 слейв-устройств на одной шине.
5. **Функции Протокола:** Включает функции для чтения и записи регистров и дискретных значений, а также для диагностики и управления.

## Принцип Работы Modbus RTU

### 1. Формат Сообщения

Сообщение Modbus RTU состоит из следующих частей:

- **Адрес Слейва (1 байт):** Указывает, какому устройству предназначено сообщение (0-247).
- **Код Функции (1 байт):** Определяет тип запроса/команды (например, чтение регистров, запись значений).
- **Данные (n байт):** Содержат дополнительные параметры запроса или данные для записи.
- **CRC (2 байта):** Циклический избыточный код, используемый для проверки целостности сообщения.

### 2. Обмен Данными

1. **Инициация Сообщения (Мастер):**
   - Мастер формирует и отправляет сообщение адресованное одному из слейвов.
   - Сообщение содержит адрес слейва, код функции и, при необходимости, данные.

2. **Приём и Обработка (Слейв):**
   - Слейв с соответствующим адресом принимает сообщение.
   - Слейв проверяет CRC сообщения на ошибки.
   - Если сообщение корректно, слейв выполняет запрошенную операцию: чтение или запись данных.

3. **Ответ Слейва:**
   - Слейв формирует ответное сообщение, которое включает адрес слейва, код функции и запрошенные данные или подтверждение выполнения операции.
   - Слейв отправляет ответ мастеру.

### 3. Типы Операций

Modbus RTU поддерживает различные функции для обмена данными:

- **Функции Чтения:**
  - `0x03` (Read Holding Registers): Чтение ряда регистров хранения.
  - `0x04` (Read Input Registers): Чтение ряда входных регистров.
  - `0x01` (Read Coils): Чтение ряда реле (coils).
  - `0x02` (Read Discrete Inputs): Чтение ряда дискретных входов.

- **Функции Записи:**
  - `0x05` (Write Single Coil): Запись одного реле.
  - `0x06` (Write Single Register): Запись одного регистра хранения.
  - `0x0F` (Write Multiple Coils): Запись нескольких реле.
  - `0x10` (Write Multiple Registers): Запись нескольких регистров хранения.

- **Диагностика и Управление:**
  - `0x08` (Diagnostic): Диагностика.
  - `0x11` (Report Slave ID): Возврат идентификатора слейва.
  - `0x16` (Mask Write Register): Маскированная запись регистра.

### 4. Тайминги и Ошибки

- **Таймауты:** Если слейв не ответил в установленное время, мастер может повторить запрос или выдать ошибку.
- **Обработка Ошибок:** Если слейв обнаруживает ошибку в запросе (неподдерживаемая функция, неверный адрес данных), он возвращает сообщение об ошибке с соответствующим кодом.

### 5. Пример Обмена

1. **Мастер Запрашивает Данные:**
   - Мастер отправляет запрос на чтение (`0x03`) 10 регистров хранения начиная с адреса `0x0001` слейву с адресом `0x01`.
   - Формат сообщения: `[01][03][00][01][00][0A][CRC]`.

2. **Слейв Отвечает:**
   - Слейв `0x01` принимает запрос, проверяет CRC и читает 10 регистров.
   - Ответ: `[01][03][14][Data...][CRC]`, где `[14]` - количество байт данных, следующих за этим кодом.

### Вывод

Modbus RTU — это эффективный и надёжный протокол для промышленной автоматизации, который обеспечивает простую и структурированную систему для обмена данными между устройствами в сети. Его простота и широкая поддержка делают его идеальным выбором для многих приложений в области автоматизации.

### RS-232 и RS-485: Основы Последовательных Линий

**RS-232** и **RS-485** являются стандартами последовательной связи, которые определяют электрические характеристики и протоколы для обмена данными между электронными устройствами. Они используются во многих промышленных, телекоммуникационных и компьютерных системах для передачи данных на короткие и средние расстояния.

#### RS-232 (Recommended Standard 232)

**RS-232** — это стандарт для последовательной двунаправленной точка-точка связи между двумя устройствами. Этот стандарт был введён в 1960-х годах.

##### Основные Характеристики RS-232:

1. **Тип Соединения:**
   - Последовательное соединение, обычно точка-точка (один передатчик и один приёмник).
   
2. **Количество Устройств:**
   - Стандартный RS-232 поддерживает соединение только 2 устройств (DTE и DCE).

3. **Разъёмы и Кабели:**
   - Часто используются разъёмы DB-9 (9-пиновый) и DB-25 (25-пиновый).
   - Кабель обычно содержит одну линию для передачи данных (TxD), одну для приёма данных (RxD), и одну земляную линию (GND).

4. **Электрические Сигналы:**
   - Используются напряжения от +3 до +15 вольт для логического 0 и от -3 до -15 вольт для логической 1.
   - Напряжения в диапазоне от -3V до +3V считаются неопределёнными.

5. **Дальность и Скорость:**
   - Максимальная скорость передачи данных составляет около 20 кбит/с на расстояниях до 15 метров.
   - Скорость передачи и дальность обратно пропорциональны: увеличение дальности ведёт к снижению скорости.

6. **Применение:**
   - Подключение компьютеров к модемам, принтерам, данным и тестовым устройствам.

##### Пример Соединения RS-232:

```
Компьютер (DTE) <-----> (DCE) Модем
     |                             |
    TxD --------------------- RxD
    RxD --------------------- TxD
    GND --------------------- GND
```

#### RS-485 (Recommended Standard 485)

**RS-485** — это стандарт для последовательной связи, предназначенный для обеспечения высокоскоростной передачи данных в многоточечных системах.

##### Основные Характеристики RS-485:

1. **Тип Соединения:**
   - Дифференциальная передача данных, позволяющая подключать до 32 устройств в одной сети (32 устройства-передатчика и 32 устройства-приёмника).

2. **Дифференциальные Сигналы:**
   - Использует пару проводов для каждого сигнала (A и B) для улучшения устойчивости к электромагнитным помехам.
   - Сигнал определяется разностью напряжений между двумя проводами: \( V_{AB} = V_A - V_B \).

3. **Разъёмы и Кабели:**
   - Часто используются витая пара и разъёмы типа DB-9 или клеммные блоки.

4. **Электрические Сигналы:**
   - Напряжение на каждом из линий относительно земли может быть от -7V до +12V, но важна разность напряжений между A и B, которая должна быть в пределах 1.5V для логической 1 и -1.5V для логической 0.

5. **Дальность и Скорость:**
   - Максимальная скорость передачи данных может достигать 10 Мбит/с на коротких расстояниях (до 12 метров).
   - Может передавать данные на расстояния до 1200 метров при скорости 100 кбит/с.

6. **Применение:**
   - Широко используется в промышленных сетях для подключения датчиков, метеостанций, систем управления и мониторинга.

##### Пример Сети RS-485:

```
Устройство 1 <-----> Устройство 2 <-----> ... <-----> Устройство N
     |                   |                             |
    A -------------------A------------------- ... -----A
    B -------------------B------------------- ... -----B
    GND -----------------GND----------------- ... ----GND
```

### Сравнение RS-232 и RS-485

- **Топология:** RS-232 используется для точка-точка соединения, в то время как RS-485 поддерживает многоточечные соединения.
- **Дальность:** RS-232 эффективен на коротких дистанциях (до 15 м), RS-485 же работает на расстояниях до 1200 м.
- **Скорость:** RS-485 обеспечивает более высокие скорости передачи данных по сравнению с RS-232.
- **Устойчивость к помехам:** RS-485 с его дифференциальной передачей более устойчив к электромагнитным помехам, чем RS-232.
- **Количество устройств:** RS-485 позволяет подключать до 32 устройств на одной шине, тогда как RS-232 — только 2.

Оба стандарта занимают важное место в индустрии, каждый со своим набором преимуществ для определённых приложений. RS-232 часто используется в настольных и потребительских приложениях, тогда как RS-485 преимущественно применяется в промышленных и распределённых сетевых системах.

Инфракрасный контроллер — это устройство, использующее инфракрасное (ИК) излучение для беспроводной передачи информационных сигналов на короткие расстояния. Эти устройства широко используются в бытовой технике, системах безопасности, и в индустриальных приложениях для дистанционного управления различными устройствами.

### Принципы Работы Инфракрасного Контроллера

Инфракрасный контроллер работает на основе передачи данных с использованием инфракрасного излучения, которое находится в электромагнитном спектре за пределами видимого света, в диапазоне примерно от 700 нм до 1 мм.

#### Основные Компоненты

1. **ИК Передатчик:**
   - **ИК светодиод (LED):** Испускает инфракрасный свет при подаче электрического сигнала. Обычно работает на длинах волн от 850 до 950 нм.
   - **Микроконтроллер или ИК кодер:** Генерирует модулированный сигнал, который управляет ИК светодиодом, создавая последовательность импульсов для передачи данных.

2. **ИК Приёмник:**
   - **Фотодиод или Фототранзистор:** Преобразует инфракрасный свет в электрический сигнал.
   - **Усилитель:** Усиливает слабый сигнал от фотодиода.
   - **Демодулятор:** Извлекает информацию из модулированного сигнала.
   - **Микроконтроллер или ИК декодер:** Обрабатывает демодулированный сигнал для выполнения соответствующих действий.

#### Принцип Работы

1. **Модуляция Сигнала:**
   - Инфракрасные контроллеры обычно используют **амплитудную модуляцию с несущей** (ASK — Amplitude Shift Keying) для передачи данных. Несущая частота обычно составляет от 30 до 60 кГц.
   - Модуляция помогает отделить полезный сигнал от фонового инфракрасного излучения (например, от солнечного света или освещения).

2. **Кодирование Данных:**
   - Для передачи данных через ИК связь используются различные протоколы кодирования, такие как **NEC, RC5, RC6**, и другие.
   - Каждая команда кодируется последовательностью импульсов определённой длительности.
   - Пример: В протоколе NEC используется комбинация длинных и коротких импульсов для представления битов '0' и '1'.

3. **Передача Сигнала:**
   - ИК светодиод передатчика посылает серию импульсов инфракрасного света по команде от микроконтроллера.
   - Импульсы представляют собой модулированный сигнал с несущей частотой, соответствующий закодированной команде.

4. **Приём Сигнала:**
   - Фотодиод приёмника реагирует на инфракрасный свет, преобразовывая его в электрический сигнал.
   - Сигнал усиливается и демодулируется для удаления несущей и извлечения исходной последовательности импульсов.

5. **Декодирование и Действие:**
   - Демодулированный сигнал передаётся в микроконтроллер приёмника, который декодирует последовательность импульсов в исходную команду.
   - По идентифицированной команде устройство выполняет заданное действие (например, включение телевизора, изменение громкости и т.д.).

#### Применение Инфракрасных Контроллеров

- **Бытовая Техника:** Телевизоры, кондиционеры, аудиосистемы и другие устройства часто используют ИК пульты для дистанционного управления.
- **Индустриальные Системы:** Автоматизация производства, робототехника, и системы мониторинга.
- **Безопасность:** Инфракрасные датчики для систем охраны и видеонаблюдения.
- **Игрушки и Развлечения:** Дистанционно управляемые игрушки, ИК лазертаг.

#### Примеры ИК Кодирования

- **Протокол NEC:** Использует длинные импульсы для '0' и короткие для '1', с несущей частотой около 38 кГц.
- **Протокол RC5:** Использует изменение фазы сигнала для кодирования битов данных.

### Заключение

Инфракрасные контроллеры обеспечивают надёжную и эффективную беспроводную связь на короткие расстояния, используя простые и недорогие компоненты. Их широкое применение в бытовой и промышленной электронике делает их важным элементом в разработке пользовательских интерфейсов и автоматизированных систем управления.

**Настенный комбинированный датчик WB-MSW v.3** от компании Wiren Board — это многофункциональное устройство, предназначенное для использования в системах "умного дома" и автоматизации зданий. Этот датчик предоставляет широкий спектр функций, включая измерение температуры, влажности, уровня освещённости, а также обнаружение движения и контроль качества воздуха.

### Основные Характеристики и Функции WB-MSW v.3

1. **Датчики и Измерения:**
   - **Температура:** Измерение температуры в помещении с помощью встроенного термометра.
   - **Влажность:** Измерение относительной влажности с помощью гигрометра.
   - **Освещённость:** Измерение уровня освещённости через фотодиод или фоторезистор.
   - **Качество Воздуха:** Определение уровня углекислого газа (CO2) и летучих органических соединений (VOC) для мониторинга качества воздуха.
   - **Движение:** Инфракрасный датчик присутствия (PIR) для обнаружения движения в помещении.

2. **Коммуникация и Протоколы:**
   - **Modbus RTU:** Поддержка протокола Modbus RTU через интерфейс RS-485 для легкой интеграции с различными системами автоматизации.
   - **1-Wire:** Поддержка интерфейса 1-Wire для подключения дополнительных датчиков температуры.

3. **Универсальность и Настройка:**
   - **Многофункциональность:** Комбинация различных датчиков уменьшает количество необходимых устройств для мониторинга параметров среды.
   - **Настройка:** Параметры датчика, такие как чувствительность PIR-сенсора, интервалы опроса и пороги тревог, можно настроить программно.

4. **Дизайн и Монтаж:**
   - **Компактный Размер:** Устройство имеет небольшие размеры и современный дизайн, подходящий для настенного монтажа.
   - **Установка:** Простота установки и настройки делает датчик подходящим для различных типов помещений.

### Принцип Работы WB-MSW v.3

1. **Измерение Температуры и Влажности:**
   - **Температура:** Датчик температуры измеряет температуру воздуха в помещении. Эти данные могут использоваться для контроля климатических систем.
   - **Влажность:** Датчик влажности измеряет относительную влажность воздуха, что важно для систем вентиляции и кондиционирования.

2. **Измерение Освещённости:**
   - Встроенный датчик освещённости измеряет уровень света в люксах, позволяя автоматизировать управление освещением в зависимости от времени суток и условий освещения.

3. **Мониторинг Качества Воздуха:**
   - **Углекислый Газ (CO2):** Датчик CO2 помогает контролировать концентрацию углекислого газа, что критично для поддержания здоровой атмосферы в помещении.
   - **Летучие Органические Соединения (VOC):** Датчик VOC обнаруживает различные летучие органические соединения, что важно для отслеживания качества воздуха и выявления источников загрязнения.

4. **Обнаружение Движения:**
   - **PIR-сенсор:** Используется для обнаружения присутствия людей в помещении. Работает по изменению инфракрасного излучения, что позволяет автоматизировать управление освещением, системами безопасности и другими устройствами.

5. **Коммуникация и Управление:**
   - **Modbus RTU через RS-485:** Датчик передаёт собранные данные на контроллер или в центральную систему автоматизации по протоколу Modbus RTU. Это позволяет легко интегрировать датчик в большинство систем "умного дома".
   - **1-Wire:** Поддержка дополнительных датчиков температуры на шине 1-Wire увеличивает гибкость использования устройства.

### Применение

WB-MSW v.3 идеально подходит для:

- **Интеллектуальное Управление Климатом:** Автоматизация систем отопления, вентиляции и кондиционирования воздуха.
- **Автоматическое Управление Освещением:** Регулировка освещения в зависимости от времени суток и уровня естественного света.
- **Энергосбережение:** Оптимизация потребления энергии путём управления энергопотребляющими устройствами на основе данных о присутствии людей и условиях окружающей среды.
- **Безопасность и Мониторинг:** Использование в системах безопасности для обнаружения движения и мониторинга качества воздуха.

### Заключение

WB-MSW v.3 — это мощный инструмент для комплексного мониторинга и управления параметрами внутренней среды. Благодаря сочетанию различных датчиков и простоте интеграции с системами автоматизации, этот датчик открывает широкие возможности для создания эффективных и комфортных условий в жилых и коммерческих помещениях.

Измерение температуры — это фундаментальный аспект науки и техники, который играет критическую роль в повседневной жизни, промышленности, метеорологии и многих других областях. Существуют различные методы и устройства для измерения температуры, каждый из которых подходит для конкретных условий и требований.

### Основные Принципы Измерения Температуры

1. **Термометрические Материалы:** Температура измеряется путём наблюдения за изменением физического свойства материала, которое заметно и повторяемо изменяется с температурой. Эти свойства включают объём, давление, электрическое сопротивление и электромагнитное излучение.

2. **Тепловое Равновесие:** Для точного измерения температуры устройство (термометр) должно находиться в тепловом равновесии с окружающей средой или объектом измерения, что означает, что температуры термометра и окружающей среды должны быть равны.

### Типы Термометров и Методы Измерения

#### 1. Жидкостные Термометры

- **Принцип Работы:** Жидкостные термометры, такие как ртутные или спиртовые, измеряют температуру по расширению жидкости в стеклянной колбе.
- **Применение:** Широко используются в медицине, лабораториях и метеорологии.

#### 2. Биметаллические Термометры

- **Принцип Работы:** Используют механическое изгибание биметаллической полосы, состоящей из двух металлов с разными коэффициентами теплового расширения.
- **Применение:** Применяются в бытовых термометрах, промышленных системах контроля температуры и термостатах.

#### 3. Термоэлектрические Термометры (Термопары)

- **Принцип Работы:** Термопары измеряют температуру на основе эффекта Зеебека, который возникает на контакте двух разных металлов, создавая термоэлектродвижущую силу (ТЭДС), зависящую от температуры.
- **Применение:** Широко используются в промышленности и научных исследованиях для измерения высоких температур до 1600°C и более.

#### 4. Термисторы и Резистивные Термометры Сопротивления (RTD)

- **Принцип Работы:**
  - **Термисторы** — полупроводниковые устройства, сопротивление которых сильно зависит от температуры. Существуют NTC (с отрицательным температурным коэффициентом) и PTC (с положительным ТКС).
  - **RTD (Resistance Temperature Detectors)** — используют металлы, чьё сопротивление линейно изменяется с температурой, обычно платину (Pt100, Pt1000).
- **Применение:** Термисторы используются для измерения низких температур, а RTD — для более точных измерений в промышленности и лабораториях.

#### 5. Инфракрасные Термометры

- **Принцип Работы:** Измеряют температуру объектов на расстоянии по интенсивности инфракрасного излучения, которое объект испускает.
- **Применение:** Используются для измерения температуры движущихся объектов, пищевых продуктов, электрического оборудования и в медицине (бесконтактные термометры).

#### 6. Термометры с Цифровым Выводом

- **Принцип Работы:** Цифровые датчики температуры, такие как DS18B20, используют микропроцессоры для обработки сигналов от термочувствительных элементов и вывода температуры в цифровом формате.
- **Применение:** Умные дома, системы автоматизации, серверные и телекоммуникационные шкафы.

Датчик **WB-MSW v.3** от Wiren Board — это многофункциональное устройство, которое, помимо прочего, способно измерять влажность в помещении. Измерение влажности в этом датчике осуществляется с помощью встроенного капацитивного датчика влажности. 

### Принцип Работы Капацитивного Датчика Влажности

Капацитивные датчики влажности, используемые в WB-MSW v.3, измеряют влажность воздуха на основе изменения диэлектрических свойств воздуха в зависимости от его влажности. Вот как это работает:

1. **Конструкция Датчика:**
   - **Электроды:** Капацитивный датчик влажности состоит из двух параллельных пластин (электродов), которые формируют конденсатор.
   - **Диэлектрик:** Между этими пластинами находится диэлектрический материал, обычно полимер, который поглощает влагу из воздуха.

2. **Работа Датчика:**
   - Когда влажность воздуха изменяется, количество водяного пара, абсорбированного полимерным слоем, также изменяется. Это приводит к изменению диэлектрической проницаемости полимера.
   - Изменение диэлектрической проницаемости влияет на емкость конденсатора, сформированного электродами и полимерным слоем.
   - Емкость этого конденсатора прямо пропорциональна диэлектрической проницаемости, а следовательно, и относительной влажности воздуха.

3. **Измерение и Преобразование:**
   - Электроника датчика WB-MSW v.3 измеряет изменение емкости конденсатора.
   - Это изменение емкости преобразуется в электрический сигнал, который затем обрабатывается микроконтроллером датчика.
   - Микроконтроллер преобразует этот сигнал в цифровое значение, которое соответствует проценту относительной влажности воздуха.

4. **Калибровка и Компенсация:**
   - Датчик влажности в WB-MSW v.3 калибруется на заводе, чтобы обеспечить точность измерений.
   - Возможно применение температурной компенсации, так как температура может влиять на показания влажности.

### Технические Характеристики Датчика Влажности в WB-MSW v.3

- **Диапазон Измерения:** Относительная влажность в диапазоне 0% до 100%.
- **Точность:** Как правило, базовая точность капацитивных датчиков влажности составляет ±3% относительной влажности.
- **Время Отклика:** Быстрое время отклика, обеспечивающее актуальные показания в динамично изменяющихся условиях.

### Применение

Измерение влажности важно для многих приложений:

- **Климат-контроль:** Управление системами HVAC для поддержания комфортного микроклимата в зданиях.
- **Сельское Хозяйство:** Мониторинг влажности в теплицах для оптимизации условий роста растений.
- **Промышленность:** Контроль влажности на производстве, где важно поддерживать определенные условия для качества продукции.

### Преимущества Использования WB-MSW v.3 для Измерения Влажности

- **Многофункциональность:** WB-MSW v.3 предоставляет не только данные о влажности, но и о температуре, освещенности, качестве воздуха и движении.
- **Интеграция:** Легко интегрируется с системами "умного дома" и автоматизации зданий через Modbus RTU и 1-Wire.
- **Надежность и Точность:** Высокая точность и надежность показаний благодаря качественной калибровке и современным датчикам.

Использование капацитивного датчика влажности в WB-MSW v.3 позволяет точно и эффективно контролировать влажность воздуха, что делает этот датчик идеальным выбором для широкого спектра приложений в автоматизации зданий и системах "умного дома".

**WBIO-DO-R10A-8** — это модуль релейных выходов от компании Wiren Board, предназначенный для использования в системах автоматизации, умных домах и промышленных контрольных системах. Этот модуль предоставляет возможность управления нагрузками через свои релейные выходы и интегрируется с контроллерами Wiren Board и другими системами, поддерживающими соответствующие интерфейсы.

### Основные Характеристики и Функции WBIO-DO-R10A-8

1. **Релейные Выходы:**
   - Модуль содержит **8 релейных выходов**, что позволяет управлять восемью независимыми электрическими цепями.
   - Каждый релейный выход может коммутировать напряжение до 250 В переменного тока (AC) или до 30 В постоянного тока (DC).

2. **Токовая Нагрузка:**
   - Каждый выход способен коммутировать ток до **10 ампер** при напряжении 250 В AC, что делает модуль подходящим для управления большинством бытовых и многих промышленных нагрузок.

3. **Тип Реле:**
   - Используются электромеханические реле с нормально разомкнутыми (NO) контактами.

4. **Интерфейс Подключения:**
   - Модуль предназначен для подключения к контроллерам Wiren Board через специализированный интерфейс расширения. Это обеспечивает легкую интеграцию и быстрое подключение.

5. **Использование:**
   - **WBIO-DO-R10A-8** идеально подходит для управления освещением, электроприводами, насосами, вентиляторами и другим оборудованием в автоматизированных системах.

6. **Монтаж:**
   - Модуль может быть установлен в стандартный монтажный шкаф на DIN-рейку, что упрощает его интеграцию в электротехнические панели и шкафы управления.

### Примеры Применения

- **Управление Освещением:** Управление группами светильников в офисных и жилых зданиях, включая сценарии освещения.
- **Автоматизация Систем Отопления и Вентиляции:** Коммутация насосов, вентиляционных установок и другого оборудования в системах HVAC.
- **Управление Доступом и Безопасностью:** Управление замками, электромагнитами и сигнализациями.
- **Промышленные Приложения:** Управление приводами, моторами, клапанами и другими механизмами.

### Пример Интеграции с Wiren Board

Для подключения и использования **WBIO-DO-R10A-8** с контроллером Wiren Board вы можете выполнить следующие шаги:

1. **Физическое Подключение:**
   - Подключите модуль **WBIO-DO-R10A-8** к контроллеру через интерфейс расширения, используя соответствующий кабель.

2. **Конфигурация Оборудования:**
   - В интерфейсе Wiren Board (через Web UI или через конфигурационные файлы) добавьте новый модуль, указав его тип и адрес на шине.

3. **Программирование Логики Управления:**
   - Используйте правила или скрипты для определения логики работы реле. Например, создайте правило для включения света при обнаружении движения:
     ```javascript
     defineRule("light_on_motion", {
       whenChanged: "wb-msw-v3/+/Motion",
       then: function (newValue, devName, cellName) {
         // Проверяем, обнаружено ли движение
         if (newValue) {
           // Включаем свет
           dev["wbio-do-r10a-8"]["Relay 0"] = true;
         }
       }
     });
     ```
   - Аналогично, можно добавить логику для других сценариев управления.

4. **Мониторинг и Управление:**
   - Используйте веб-интерфейс, MQTT или другие протоколы для мониторинга состояния реле и управления ими в реальном времени.

### Заключение

**WBIO-DO-R10A-8** — это мощный и надежный модуль реле, который расширяет возможности контроллеров Wiren Board для управления электрическими устройствами и системами в различных приложениях. Его универсальность и простота интеграции делают его идеальным выбором для многих проектов автоматизации.

### Что такое реле?

**Реле** — это электромеханическое или электронное устройство, которое используется для управления одним или несколькими электрическими цепями, управляемыми сигналом низкой мощности. Реле позволяет изолированно от основной управляющей системы коммутировать электрические цепи, что делает его ключевым элементом в автоматизации и защите электрических систем.

### Основные Типы Реле

1. **Электромеханические Реле:**
   - **Описание:** Эти реле имеют физические контакты, которые открываются и закрываются с помощью электромагнита. Когда на катушку реле подается напряжение, создается магнитное поле, которое притягивает механический контакт, изменяя состояние реле.
   - **Применение:** Используются в различных приложениях, включая автомобильные системы, промышленное оборудование, домашнюю автоматизацию и телекоммуникации.

2. **Твердотельные Реле (Solid State Relay, SSR):**
   - **Описание:** Эти реле не имеют механических движущихся частей и работают на основе полупроводниковых компонентов, таких как тиристоры, транзисторы и диоды. SSR обеспечивают быстрое и бесшумное переключение.
   - **Применение:** Широко используются в промышленных процессах, где требуется высокая скорость коммутации, а также в местах с высокими требованиями к надежности и долговечности.

3. **Реле Повышенной Мощности (Power Relay):**
   - **Описание:** Разработаны для коммутации больших токов и напряжений. Эти реле могут управлять нагрузками в несколько киловатт и обычно имеют более крупные и прочные контакты.
   - **Применение:** Используются для управления электродвигателями, освещением, нагревательными элементами и другими мощными устройствами.

4. **Реле Времени (Time Relay):**
   - **Описание:** Оснащены встроенным таймером, который позволяет установить задержку на включение или выключение контактов. Это может быть как механический таймер, так и электронный.
   - **Применение:** Применяются для задержки включения или выключения в системах управления освещением, вентиляции, отопления и других автоматизированных процессах.

5. **Реле Напряжения (Voltage Relay):**
   - **Описание:** Отслеживают уровень напряжения в электрической цепи и активируются при достижении определенного порога.
   - **Применение:** Используются для защиты оборудования от перенапряжений или недостаточного напряжения.

6. **Автомобильные Реле:**
   - **Описание:** Специально разработаны для использования в автомобильной промышленности, эти реле могут выдерживать высокие температуры и вибрации.
   - **Применение:** Управление фарами, стартерами, вентиляторами охлаждения, топливными насосами и другими компонентами автомобиля.

### Как Работает Реле?

1. **Входной Сигнал (Управление):**
   - На катушку реле подается управляющий сигнал (обычно низкое напряжение и ток), который создает магнитное поле.

2. **Активация Контактов:**
   - Магнитное поле притягивает механический контакт в электромеханическом реле или изменяет электрические свойства полупроводников в SSR, в результате чего осуществляется переключение.

3. **Выходной Сигнал (Нагрузка):**
   - Коммутируемые контакты замыкаются или размыкаются, позволяя или прекращая протекание тока к управляемой нагрузке.

4. **Отключение:**
   - Когда управляющий сигнал прекращается, магнитное поле исчезает, и контакты возвращаются в исходное положение под действием пружины (в электромеханическом реле) или изменения состояния полупроводника (в SSR).

### Преимущества и Недостатки Реле

- **Преимущества:**
  - **Изоляция:** Реле обеспечивает электрическую изоляцию между управляющей и управляемой цепями.
  - **Универсальность:** Подходит для широкого диапазона напряжений и токов.
  - **Простота использования:** Легко интегрируется в различные электрические схемы.

- **Недостатки:**
  - **Износ:** Электромеханические реле подвержены физическому износу из-за механического движения контактов.
  - **Скорость:** Относительно медленное время реакции по сравнению с полупроводниковыми устройствами.
  - **Шум:** Могут издавать заметный щелчок при переключении.

### Заключение

Реле — это критически важный компонент в автоматизации и управлении электрическими системами, предоставляющий гибкость, надежность и безопасность для управления различными нагрузками. Выбор между электромеханическими и твердотельными реле зависит от конкретного приложения, требований к долговечности и скорости работы.

### Модуль обнаружения протечек WB-MWAC

**WB-MWAC** (Wiren Board Water Leak and Control Module) — это специализированный модуль от Wiren Board, предназначенный для обнаружения протечек воды и автоматического управления водопроводными клапанами или другим оборудованием для предотвращения ущерба от воды. Это устройство является частью систем умного дома и коммерческой автоматизации, предоставляя надёжное решение для контроля за критическими условиями, связанными с водой.

### Основные Характеристики и Функции WB-MWAC

1. **Обнаружение Протечек:**
   - **Датчики Протечки:** WB-MWAC может работать с несколькими датчиками протечки, подключаемыми напрямую к его терминалам. Это позволяет мониторить множество зон на предмет наличия воды.
   - **Алгоритмы Обнаружения:** Модуль использует как простое обнаружение (замыкание цепи датчиком воды), так и более сложные методы для повышения точности и надёжности.

2. **Управление Клапанами:**
   - **Реле для Клапанов:** Встроенные реле позволяют автоматически закрывать водопроводные клапаны при обнаружении протечки, минимизируя возможный ущерб.
   - **Разнообразие Поддерживаемых Клапанов:** Может управлять как нормально закрытыми (NC), так и нормально открытыми (NO) клапанами.

3. **Интерфейсы и Связь:**
   - **Modbus RTU:** Поддержка Modbus RTU через интерфейс RS-485, что позволяет интегрировать модуль в различные системы автоматизации.
   - **Входы и Выходы:** Наличие дополнительных входов и выходов для подключения датчиков и исполнительных устройств.

4. **Пользовательский Интерфейс:**
   - **Индикация Состояния:** Светодиоды на передней панели модуля показывают статус работы системы, наличие протечек и состояние реле.

5. **Программное Обеспечение:**
   - **Настройка Параметров:** Пользователи могут настроить параметры работы WB-MWAC через веб-интерфейс Wiren Board или через Modbus-регистры.
   - **Логика Работы:** Поддержка программирования логики работы в ответ на обнаружение протечек или другие события.

### Принцип Работы WB-MWAC

1. **Мониторинг Пространства:**
   - Датчики протечки размещаются в потенциально опасных местах (под стиральными машинами, бойлерами, на кухнях и т.д.).
   - Каждый датчик подключается к одному из входов WB-MWAC.

2. **Обнаружение Протечки:**
   - Когда вода замыкает контакты датчика протечки, WB-MWAC регистрирует это как протечку.
   - Модуль может оповестить систему умного дома и/или выполнить локальные действия (например, закрыть клапан).

3. **Активация Действий:**
   - **Автоматическое Закрытие Клапанов:** Если протечка обнаружена, WB-MWAC может автоматически закрыть водопроводные клапаны, предотвращая дальнейшее распространение воды.
   - **Уведомления:** Модуль может отправить уведомление в систему управления или на мобильное устройство пользователя.

4. **Восстановление Работы:**
   - После обработки ситуации и устранения протечки система может быть сброшена вручную или автоматически, в зависимости от настроек.

### Примеры Применения

- **Жилые Дома:** Защита от протечек в ванных комнатах, кухнях, подвалах.
- **Коммерческие Здания:** Мониторинг сантехнических помещений, кухонь, бойлерных и технических помещений на предмет протечек.
- **Промышленные Объекты:** Контроль за системами водоснабжения и охлаждения, предотвращение аварийных ситуаций связанных с водой.
- **Данные Центры и Серверные:** Защита оборудования от протечек в системах кондиционирования и охлаждения.

### Заключение

**WB-MWAC** от Wiren Board — это эффективное и надёжное решение для обнаружения протечек и автоматического управления системами водоснабжения. Благодаря поддержке Modbus RTU и возможности управления клапанами, этот модуль может быть легко интегрирован в большинство систем автоматизации, обеспечивая высокий уровень защиты от потенциального ущерба от воды.

### Диммер светодиодных лент на DIN-рейку WB-MRGBW-D

**WB-MRGBW-D** от Wiren Board — это диммер для управления светодиодными лентами с возможностью регулировки каналов RGBW (красный, зелёный, синий и белый), предназначенный для монтажа на DIN-рейку. Это устройство позволяет точно и гибко управлять освещением, создавать различные сцены и эффекты для декоративного и функционального освещения в системах "умного дома", коммерческих и развлекательных пространствах.

### Основные Характеристики и Функции WB-MRGBW-D

1. **Каналы Управления:**
   - **Четыре Канала:** Поддержка четырёх каналов (RGBW), что позволяет управлять многоцветными светодиодными лентами, включая отдельный канал для белого цвета или дополнительного цвета.
   
2. **Типы Управления:**
   - **ШИМ (Широтно-импульсная модуляция):** Используется для регулирования интенсивности каждого из каналов, обеспечивая плавное диммирование и широкий спектр цветовых оттенков.

3. **Мощность и Нагрузка:**
   - **Ток на Канал:** До 5 ампер на каждый канал, позволяя управлять мощными светодиодными лентами.
   - **Общая Мощность:** Максимальная мощность до 15А для всех каналов.

4. **Коммуникация и Протоколы:**
   - **Modbus RTU:** Управление и настройка диммера осуществляются через протокол Modbus RTU по интерфейсу RS-485, что упрощает интеграцию с различными системами автоматизации.

5. **Пользовательский Интерфейс:**
   - **Индикация Состояния:** Светодиоды на устройстве показывают статус работы каждого канала и помогают в диагностике.

6. **Настройки и Функции:**
   - **Группировка Каналов:** Возможность группировать каналы для синхронного управления.
   - **Различные Сценарии:** Поддержка создания сценариев и эффектов, таких как плавное изменение цвета, мерцание и имитация заката.

### Принцип Работы WB-MRGBW-D

1. **Подключение Светодиодных Лент:**
   - Светодиодные ленты подключаются к клеммам диммера для каждого канала (R, G, B, W).
   - Питание лент подаётся через диммер или напрямую, в зависимости от конструкции системы.

2. **Настройка и Управление:**
   - **Через Modbus RTU:** Параметры диммера, включая интенсивность и цвет, настраиваются через команды Modbus RTU.
   - **Программное Управление:** Используя систему управления (например, Wiren Board или другую систему на базе Modbus), пользователь может отправлять команды для изменения цвета и яркости.

3. **Работа Диммера:**
   - **ШИМ-регулировка:** Диммер регулирует напряжение на каждом канале с помощью ШИМ, изменяя тем самым яркость соответствующих цветов в ленте.
   - **Сценарии Освещения:** Можно программировать различные сценарии и динамические эффекты, такие как плавное переливание цветов или имитация рассвета.

4. **Обратная Связь и Мониторинг:**
   - **Статусы и Ошибки:** Система может мониторить статус работы диммера и светодиодных лент через Modbus, получая данные о возможных ошибках и состоянии устройства.

### Примеры Применения

- **Домашнее Освещение:** Управление освещением в жилых помещениях, создание атмосферы с помощью регулируемого многоцветного освещения.
- **Коммерческие Пространства:** Освещение в магазинах, ресторанах, выставочных залах, где требуется динамичное и изменяемое освещение.
- **Театры и Сцены:** Создание эффектов освещения на сцене, управление светом в соответствии с сценарием представления.
- **Архитектурное Освещение:** Фасадное освещение зданий, подсветка элементов ландшафта и архитектурных форм.

### Заключение

**WB-MRGBW-D** — это мощный инструмент для управления светодиодным освещением, обеспечивающий высокую гибкость и широкие возможности для создания разнообразных световых эффектов. Благодаря поддержке Modbus RTU и возможности управления через RS-485, этот диммер легко интегрируется в различные системы "умного дома" и автоматизации, позволяя пользователям максимально эффективно использовать свои светодиодные устройства.

Модули **WB-MSW v.3** и **WB-MS** от Wiren Board представляют собой многофункциональные датчики, предназначенные для использования в системах умного дома и автоматизации зданий. Оба устройства обеспечивают мониторинг различных параметров окружающей среды, но между ними есть ключевые отличия, которые определяют их применение в разных сценариях.

### Основные Характеристики и Отличия

#### 1. WB-MSW v.3

**WB-MSW v.3** — это более новая и продвинутая версия датчика, которая включает в себя дополнительные функции по сравнению с WB-MS.

- **Датчики и Измерения:**
  - Температура, влажность, уровень освещённости (люксметр), атмосферное давление.
  - Качество воздуха: детекция уровня углекислого газа (CO2) и летучих органических соединений (VOC).
  - Инфракрасный датчик движения (PIR) для обнаружения присутствия.
  - Звуковой датчик (микрофон) для анализа уровня шума.

- **Коммуникация:**
  - Modbus RTU через интерфейс RS-485 для подключения к системам управления.
  
- **Особенности:**
  - Встроенный датчик освещённости позволяет оценивать освещённость помещения.
  - Наличие микрофона позволяет использовать датчик для анализа уровня шума.
  - Поддерживает работу с внешними датчиками через интерфейс 1-Wire.

#### 2. WB-MS

**WB-MS** — это предшествующая версия датчика, которая предоставляет базовые функции мониторинга без некоторых дополнительных возможностей, доступных в WB-MSW v.3.

- **Датчики и Измерения:**
  - Температура, влажность, уровень освещённости.
  - Нет датчиков CO2, VOC и звука.
  - Инфракрасный датчик движения (PIR) для обнаружения присутствия.

- **Коммуникация:**
  - Modbus RTU через интерфейс RS-485 для подключения к системам управления.
  
- **Особенности:**
  - Базовая функциональность для мониторинга основных параметров окружающей среды.
  - Не поддерживает анализ уровня шума и качества воздуха (CO2, VOC).
  - Поддерживает работу с внешними датчиками через интерфейс 1-Wire.

### Сравнительная Таблица Характеристик

| Функция/Параметр      | WB-MSW v.3                           | WB-MS                               |
|-----------------------|--------------------------------------|-------------------------------------|
| **Температура**       | Да                                   | Да                                  |
| **Влажность**         | Да                                   | Да                                  |
| **Освещённость**      | Да                                   | Да                                  |
| **Атмосферное давление** | Да                               | Нет                                 |
| **CO2 (Углекислый газ)** | Да                                | Нет                                 |
| **VOC (Летучие органические соединения)** | Да           | Нет                                 |
| **PIR (Движение)**    | Да                                   | Да                                  |
| **Звук (Микрофон)**   | Да                                   | Нет                                 |
| **Modbus RTU**        | Да                                   | Да                                  |
| **1-Wire**            | Да                                   | Да                                  |

### Выводы

- **Выбор WB-MSW v.3:** Если вам нужен более комплексный подход к мониторингу окружающей среды с возможностью анализа качества воздуха (CO2 и VOC), уровня шума и атмосферного давления, выбирайте WB-MSW v.3.
- **Выбор WB-MS:** Если требуется базовый мониторинг температуры, влажности и освещённости с детекцией движения, и дополнительные параметры не критичны, WB-MS будет достаточен.

Оба устройства хорошо интегрируются в системы умного дома и автоматизации благодаря поддержке Modbus RTU и 1-Wire, но выбор между ними зависит от специфики ваших потребностей в мониторинге и контроле окружающей среды.

### Электросчётчик "Милур 307"

**"Милур 307"** — это современный многофункциональный электронный счётчик электроэнергии, предназначенный для учёта активной и реактивной энергии в однофазных электрических сетях. Этот счётчик используется как в бытовых, так и в коммерческих и промышленных условиях благодаря своей точности, надёжности и функциональности.

### Основные Характеристики и Функции "Милур 307"

1. **Тип Счётчика:**
   - Электронный однофазный счётчик, предназначенный для измерения и учёта активной и реактивной энергии.

2. **Измерение Энергии:**
   - **Активная Энергия:** Измерение потребления активной энергии в киловатт-часах (кВт·ч).
   - **Реактивная Энергия:** Измерение потребления реактивной энергии в киловар-часах (кВАр·ч) для определённых модификаций счётчика.

3. **Тарификация:**
   - Поддержка многотарифных режимов (до 4 тарифов), что позволяет учитывать энергию по разным тарифам в зависимости от времени суток.

4. **Интерфейсы и Связь:**
   - **Интерфейс RS-485:** Для передачи данных и удалённого доступа используется интерфейс RS-485, совместимый с протоколом Modbus RTU или другими протоколами в зависимости от конфигурации.
   - **Оптический Интерфейс:** Используется для локальной настройки и считывания данных с помощью оптического порта.

5. **Дисплей и Управление:**
   - **ЖК-дисплей:** Многострочный ЖК-дисплей с подсветкой, отображающий основные параметры измерения, текущее время, тариф и другую информацию.
   - **Индикация:** Светодиодные индикаторы для визуального отображения работы и импульсов потребляемой энергии.

6. **Функции Памяти и Архивирования:**
   - Встроенная память для хранения архивов по потреблённой энергии, логов событий и ошибок, что обеспечивает надёжное сохранение данных при отключении питания.

7. **Протоколы Безопасности и Контроля:**
   - Функции контроля за попытками несанкционированного доступа, включая пломбирование и электронные средства защиты от вмешательства.

### Принцип Работы "Милур 307"

1. **Измерение Электрических Параметров:**
   - Счётчик измеряет напряжение и ток в электрической сети через встроенные датчики.
   - По измеренным значениям напряжения и тока, а также фазового угла между ними, счётчик рассчитывает мгновенную мощность.

2. **Расчёт Энергии:**
   - **Активная Энергия:** Рассчитывается как интеграл от произведения мгновенных значений напряжения, тока и косинуса фазового угла по времени.
   - **Реактивная Энергия:** Рассчитывается как интеграл от произведения мгновенных значений напряжения, тока и синуса фазового угла по времени (для моделей, поддерживающих эту функцию).

3. **Тарификация и Учёт:**
   - Счётчик использует внутренний часовой механизм (реального времени) для определения текущего времени суток и применения соответствующего тарифа для учёта энергии.
   - Данные по потреблению энергии записываются в соответствии с активным тарифом в память устройства.

4. **Коммуникация и Управление:**
   - Через RS-485 и оптический порт данные о потреблённой энергии, текущих параметрах сети и состоянии счётчика могут передаваться в центральную систему управления или для локального считывания.

5. **Индикация и Интерфейс:**
   - Пользователь может наблюдать основные параметры работы счётчика на ЖК-дисплее.
   - Светодиоды индицируют работу счётчика и импульсы потребления энергии, что может использоваться для первичной диагностики и визуального контроля.

### Примеры Применения

- **Жилые и Офисные Здания:** Учёт потребления электроэнергии в квартирах, домах и офисах для оптимизации расходов и контроля над потреблением.
- **Коммерческие Организации:** Мониторинг и управление энергопотреблением в магазинах, ресторанах, гостиницах для снижения операционных расходов.
- **Промышленные Предприятия:** Использование для точного учёта энергии на производстве, в цехах и на складах.

### Заключение

**"Милур 307"** — это высокотехнологичный счётчик, который обеспечивает точный учёт энергии и широкие возможности для интеграции в системы умного дома и промышленной автоматизации. Благодаря поддержке многотарифного учёта и возможности дистанционного считывания данных, счётчик является универсальным решением для эффективного энергетического менеджмента.

Контактор — это электромеханическое устройство, используемое для дистанционного включения и отключения электрических цепей. Контакторы применяются в промышленности и быту для управления мощными нагрузками с помощью слабых управляющих сигналов.

### Зачем нужен контактор 220 В

Контактор на 220 В используется для управления нагрузками, работающими от сети переменного тока напряжением 220 В. Вот основные причины, почему нужны контакторы:

1. **Безопасное управление нагрузкой**: Позволяет включать и выключать нагрузку с безопасного расстояния, используя низковольтную управляющую цепь (например, 24 В или 220 В).
  
2. **Автоматизация**: Удобство интеграции в автоматические системы управления, такие как системы отопления, вентиляции и кондиционирования (HVAC), системы освещения и производственные линии.

3. **Управление мощными нагрузками**: Предназначен для управления высокомощными нагрузками, такими как электродвигатели, обогреватели и промышленные машины.

4. **Повышение долговечности**: Контакторы способны выдерживать значительное количество циклов включения/выключения, обеспечивая длительный срок службы.

### Принцип работы контактора

1. **Катушка управления**:
   - Катушка управления предназначена для управления контактором. При подаче на нее управляющего напряжения создается магнитное поле, которое втягивает подвижный сердечник (якорь).

2. **Контакты**:
   - **Главные контакты**: Это контакты, которые непосредственно включают и выключают нагрузку. Они замыкаются или размыкаются при движении якоря.
   - **Вспомогательные контакты**: Используются для сигнализации или управления другими цепями (например, логическими цепями или световой индикацией).

3. **Рабочий процесс**:
   - При подаче напряжения на катушку управления через управляющую цепь создается магнитное поле, втягивающее якорь.
   - Подвижная часть якоря замыкает главные контакты, включая нагрузку.
   - Вспомогательные контакты тоже изменяют положение для сигнализации или управления другими цепями.
   - При снятии управляющего напряжения с катушки, магнитное поле исчезает, и пружина возвращает якорь в исходное положение, размыкая главные контакты и выключая нагрузку.

### Пример использования контактора на 220 В

**Управление электродвигателем**:
1. **Катушка управления**:
   - Подключена к сети 220 В через кнопку или реле.
   - При нажатии кнопки напряжение подается на катушку контактора.

2. **Главные контакты**:
   - Подключены к электродвигателю.
   - При замыкании главных контактов электродвигатель запускается.
   - При размыкании главных контактов электродвигатель останавливается.

3. **Вспомогательные контакты**:
   - Используются для индикации включенного состояния электродвигателя.
   - Могут быть связаны с логической цепью управления.

### Заключение
Контактор на 220 В — это устройство для дистанционного управления мощными нагрузками, работающее на принципе электромагнитного реле. Его применение позволяет безопасно и эффективно управлять высокомощными нагрузками в промышленных и бытовых условиях.

WB-MR3 — это 3-канальный модуль реле производства компании Wiren Board, предназначенный для управления различными электрическими нагрузками. Этот модуль может быть интегрирован в системы автоматизации умного дома или промышленной автоматизации. Он поддерживает управление по интерфейсу RS-485 с использованием протокола Modbus RTU.

### Основные характеристики WB-MR3

- **Количество каналов**: 3
- **Максимальный ток реле**: 10 А при 250 В переменного тока
- **Интерфейс связи**: RS-485, протокол Modbus RTU
- **Напряжение питания**: 8-28 В постоянного тока
- **Встроенные кнопки управления**: для каждого канала
- **Входы для подключения внешних выключателей**: по 2 входа на каждый канал
- **Монтаж**: DIN-рейка (35 мм)
- **Размеры**: 90 х 36 х 58 мм
- **Рабочая температура**: от -10°C до +50°C

### Применение

WB-MR3 используется в системах автоматизации для управления различными электрическими нагрузками, такими как осветительные приборы, электродвигатели, насосы, заслонки и т.д. Благодаря интерфейсу Modbus RTU модуль может быть легко интегрирован в системы управления умным домом и промышленной автоматизации.

### Принцип работы и особенности

1. **Управление реле**:
   - Каждое реле управляется независимо посредством команд по интерфейсу RS-485 (Modbus RTU).
   - Также есть возможность ручного управления с помощью кнопок на корпусе.

2. **Входы для внешних выключателей**:
   - Модуль имеет по два входа на канал для подключения внешних выключателей.
   - Входы позволяют использовать стандартные выключатели света или кнопки для ручного управления нагрузками.

3. **Индикаторы состояния**:
   - Светодиодные индикаторы на корпусе показывают состояние реле и входов.

4. **Интеграция в систему управления**:
   - Подключение к контроллеру или системе управления осуществляется через интерфейс RS-485.
   - Поддерживается протокол Modbus RTU для обмена данными.

5. **Конфигурация**:
   - Настройка устройства и его конфигурация осуществляются через веб-интерфейс контроллера Wiren Board или посредством команд Modbus RTU.

### Пример подключения WB-MR3 к контроллеру

1. **Подключение питания**:
   - Модуль питается от источника постоянного тока 8-28 В, подключенного к соответствующим клеммам.

2. **Подключение к RS-485**:
   - Подключите провода интерфейса RS-485 к соответствующим клеммам A и B на модуле.
   - Оба провода должны быть подключены к порту RS-485 контроллера.

3. **Подключение нагрузки**:
   - Подключите одну или несколько электрических нагрузок к выходам реле.

4. **Подключение внешних выключателей**:
   - Подключите внешние выключатели (кнопки) к входам модуля.

### Пример использования Modbus RTU команд для управления реле

Для управления реле можно использовать команды Modbus RTU. Пример команды для включения первого реле:

- **Адрес устройства**: 1 (может быть изменен)
- **Функция**: 5 (запись одного дискретного значения)
- **Регистр**: 0 (реле 1)
- **Значение**: 0xFF00 (включить)

### Заключение

WB-MR3 — это надежное и гибкое решение для управления различными электрическими нагрузками в системах автоматизации. Благодаря поддержке протокола Modbus RTU и наличию входов для внешних выключателей, модуль легко интегрируется в различные системы управления, обеспечивая надежное и удобное управление нагрузками.

WB-MAP12H — это многоканальный измеритель электрической мощности производства компании Wiren Board. Основное назначение устройства — измерение потребления электроэнергии по нескольким каналам в системах автоматизации и учета. Устройство подключается к контроллеру через интерфейс RS-485 и использует протокол Modbus RTU для передачи данных.

### Основные характеристики WB-MAP12H

- **Количество каналов**: до 12 каналов для измерения однофазных линий или 4 канала для трёхфазных цепей.
- **Интерфейс связи**: RS-485, протокол Modbus RTU.
- **Напряжение питания**: 90-264 В переменного тока или 127-370 В постоянного тока.
- **Измеряемые параметры**:
  - Напряжение: 85-265 В переменного тока.
  - Ток: до 100 А при использовании токовых трансформаторов.
  - Частота: 45-65 Гц.
  - Активная, реактивная и полная мощность.
  - Активная и реактивная энергия.
- **Токовые трансформаторы**: поддерживается подключение внешних трансформаторов тока.
- **Монтаж**: DIN-рейка (35 мм).
- **Размеры**: 90 х 70 х 58 мм.

### Принцип работы WB-MAP12H

1. **Измерение тока и напряжения**:
   - Измеритель подключается к фазе и нулю сети для измерения напряжения.
   - Для измерения тока используются внешние токовые трансформаторы, подключаемые к входам устройства.

2. **Взаимодействие с контроллером**:
   - Устройство подключается к контроллеру через интерфейс RS-485.
   - Используется протокол Modbus RTU для обмена данными.
   - Контроллер может запрашивать данные о потреблении электроэнергии, мощности, напряжении и других параметрах.

3. **Обработка данных**:
   - Измеритель производит измерения в реальном времени.
   - Данные обрабатываются и передаются контроллеру по команде или с периодическим интервалом.

4. **Настройка**:
   - Адрес устройства и скорость обмена по интерфейсу RS-485 настраиваются с помощью DIP-переключателей.
   - Также можно использовать команды Modbus RTU для изменения конфигурации.

### Пример использования

**Подключение к контроллеру**:
1. **Питание**:
   - Подключите питание к клеммам устройства (L и N).

2. **Подключение RS-485**:
   - Подключите провод RS-485 к соответствующим клеммам A и B на устройстве.
   - Подключите другую сторону провода к контроллеру.

3. **Подключение токовых трансформаторов**:
   - Подключите внешние токовые трансформаторы к входам устройства в зависимости от числа каналов, которые требуются для измерения.

4. **Подключение к фазе и нулю**:
   - Подключите измерительные провода к фазе и нулю сети.

5. **Настройка адреса Modbus RTU**:
   - Настройте адрес устройства и скорость обмена с помощью DIP-переключателей.

6. **Запрос данных**:
   - Используйте контроллер для запроса данных по протоколу Modbus RTU.

**Пример запроса данных**:
- Прочитать регистры с активной мощностью для канала 1:
  - **Адрес устройства**: 1 (может быть изменен)
  - **Функция**: 3 (чтение нескольких регистров)
  - **Регистр**: 0x0000 (регистр активной мощности для канала 1)
  - **Количество регистров**: 2

### Заключение

WB-MAP12H — это эффективное решение для многоканального измерения электроэнергии. Устройство поддерживает до 12 каналов измерения, что позволяет использовать его в системах автоматизации и учета для распределенных систем энергопотребления. Благодаря поддержке протокола Modbus RTU и интерфейсу RS-485, устройство легко интегрируется в системы управления, предоставляя точные данные для анализа и оптимизации энергопотребления.
